{% extends "base.njk" %}

{% block detail %}
  <input type="hidden" id="detail"></input>
  <p id="space1">.</p>
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-6"><img src="projectImages/{{meal.image}}" alt="Burger" id="Dpic"></div>
      <div class="col-xs-12 col-md-12 col-lg-6">
        <h2 class="font01 red">{{ meal.title }}</h2>
        <p id="marg">{{meal.price}} SAR</p>
        <p id="marg">⭐{{meal.rating}} Rating</p>
        <p id="marg">{{meal.description}}</p>
        <div class="buttons">
          <input type="button" value="-" onclick="DEC()" class="number_of_order">
          <input type="button" value="1" class="number_of_order" id="number_of_items">
          <input type="button" value="+" onclick="INC()" class="number_of_order">
          <a type="button" onclick="AddToCartS()" value="add to cart" href='/sales/cart?id={{meal.id}}&back=/detail/{{meal.id}}' class="add_to_cart">Add to cart</a>
        </div>
      </div>
    </div>
  </div>
  <button type="button" id="DescBtn" class="btn btn-light">Description</button>
  <button type="button" id="ReviewsBtn"  class="btn btn-light">Reviews</button>
  <form id="DecsSection" name="DecsSection">
    <p class="Dorder leftmargin" id="marg">lorem ispum dolor sit amet consectetur adipiscing elit. Alias dolore hie quaerat deserunt eam lusto architecto, offica impedit consequuntur earum volupatatum totam que minima molestae velit nesciunt volupats praesentimm est.<br>
      <br>
  Nam nesciunl ex earum inventore corrupli consequundar moleslias accusamus eaque. dignissimos exerciutationem expededita adipisei dolor nisi! Blanditiis cannis, nobis earum non archiecto sapieante tempora asperiores minus hie , deleniti enim!</p>
    <h4 class="margin" id="Nfact">nutrition facts</h4>
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-12 col-lg-12">
          <table>
            <tr>
              <th colspan="3">Supplement Facts:</th>
            </tr>
            <tr>
              <th colspan="3">Serving Size: {{mealFact.nutrition.serving_size}}</th>
            </tr>
            <tr>
              <th colspan="3">Serving Per Container: {{mealFact.nutrition.serving_per_container}}</th>
            </tr>
            <tr>
              <th></th>
              <th>Amount Per Serving</th>
              <th>%Daily Value*</th>
            </tr>
            {% for fact in mealFact.nutrition.facts %}
              <tr>
                <td>{{ fact.item }}</td>
                <td>{{ fact.amount_per_serving + ' ' + fact.unit }}</td>
                <td>{{ fact.daily_value }}</td>
              </tr>
            {% endfor %}
            <tr>
              <td colspan="3">*Percent Daily Values are based on a 2,000 calorie diet. Your daily values may be higher or lower depending on your calorie needs</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </form>
  <div id="ReviewsSection" class="">
    <div class="container">
      <div class="row" id="RevPic">
        <div class="col-xs-12 col-md-12 col-lg-5">
          <div class="container">
            <div class="row">
              <h2 >User Reviews</h2>
              <div class="col-xs-12 col-md-12 col-lg-12">
                <!-- Slideshow container -->
                <div class="slideshow-container">
                  <!-- Full-width images with number and caption text -->
                  <div class="mySlides fade">
                    <div class="numbertext">
                      1 / 3
                    </div>
                    <img src="projectImages/meal{{meal.id}}.png" style="width: 100%" alt="man-eating-burger">
                    <div class="text">
                      Caption Text
                    </div>
                  </div>
                  <!-- Next and previous buttons -->
                  <a class="prev" onclick="plusSlides(-1)">❮</a>
                  <a class="next" onclick="plusSlides(1)">❯</a>
                  <!-- The dots/circles -->
                  <div style="text-align:center"></div>
                </div>
              </div>
            </div>
          </div>
          {# <img src="projectImages/{{meal.reviews.image}}" height="500" width="100%" alt="man-eating-burger"> #}
        </div>
        <div class="col-xs-12 col-md-12 col-lg-7">
          <div id="reviews"></div>
        </div>
      </div>
      <div class="col-xs-12 col-md-12 col-lg-12">
        <input type="button" value="Add Your Review" class="addReview" onclick="addReview()" id="btn"></input>
        {# <button type="button" id="AddRevBtn" class="btn btn-warning">Add your review</button> #}
      </div>
    </div>
  </div>
  <form id="form" method="post" enctype="multipart/form-data" action="/detail/{{meal.id}}/reviews" >
    <label for="image" id="imglbl">Image</label>
    <input type="file" name="image" id="">
    <br/>
    <label for="">Rate the food</label>
    <input type="range" name="rating" id="" list="tick" min="1" max="5">
    <datalist id="tick">
      <option value="1"></option>
      <option value="2"></option>
      <option value="3"></option>
      <option value="4"></option>
      <option value="5"></option>
    </datalist>
    <br/>
    <label for="name">Name</label>
    <input type="text" name="name" id="nameF" placeholder="First and Last name">
    <br/>
    <label for="city">City</label>
    <input type="text" name="city" id="nameF" placeholder="Enter your city">
    <br/>
    <div>
      <label for="review" id="error">Review</label>
    </div>
    <p id="errM">Please type your review</p>
    <textarea name="review" id="reviewF"  maxlength="500" placeholder="Type your review here max 500 characters"></textarea>
    <p id="count">0/500</p>
    <br/>
    <input type="submit" name="submit" id="" class="submit">
    {# <input type="" name="meal_id">{{meal.id}}</intput> #}
  </form>

</div>
<hr>
</div>
</div>
{% endblock %}